<!DOCTYPE html>
<html>
<head>
    <title>HIT</title>
    <meta charset="UTF-8" />
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        #calendar {
            width: 100%;
            margin: 0 auto;
        }

        #calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #333;
            color: #fff;
        }

        #days {
            display: flex;
            justify-content: space-between;
            padding: 30px;
            background-color: #333;
            color: #fff;
        }

        #calendar-body {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1px;
            background-color: #333;
            transition: opacity 0.5s ease;
            opacity: 1;
            font-size: large;
            font-weight: bold;
        }

        #calendar-body.fade-out {
            opacity: 0;
        }

        #calendar-body div {
            padding: 40px;
            background-color: #fff;
            text-align: center;
        }

        .change-month {
            cursor: pointer;
            height: 100px;
            width: 100px;
            background-color: gray;
            font-size: 100px;
        }
    </style>
</head>
<body>
    <video controls>
        <source src="audio.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video><br />
    <div id="calendar">
        <div id="calendar-header">
            <span id="month-prev" class="change-month">&lt;</span>
            <h1 id="month"></h1>
            <span id="month-next" class="change-month" style="float: right;">&gt;</span>
        </div>
        <div id="calendar-body"></div>
    </div>
    <script>
        let date = new Date();
        let selectedDates = [];

        function formatDate(date) {
            let d = new Date(date),
                month = '' + (d.getMonth() + 1),
                day = '' + d.getDate(),
                year = d.getFullYear();

            if (month.length < 2) 
                month = '0' + month;
            if (day.length < 2) 
                day = '0' + day;

            return [year, month, day].join('-');
        }
        
        function renderCalendar() {
            date.setDate(1);
            const monthDays = document.getElementById('calendar-body');
            const month = document.getElementById('month');
            const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
            const prevLastDay = new Date(date.getFullYear(), date.getMonth(), 0).getDate();
            const firstDayIndex = date.getDay();
            const lastDayIndex = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDay();
            const nextDays = 7 - lastDayIndex - 1;
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            
            month.innerText = `${months[date.getMonth()]} ${date.getFullYear()}`;
            let dates = '';

            for (let x = firstDayIndex; x > 0; x--) {
                let fullDate = formatDate(new Date(date.getFullYear(), date.getMonth(), -x + 1));
                dates += `<div class='prev-date' data-date='${fullDate}' style='${selectedDates.includes(fullDate) ? "background-color: green;" : ""}'>${prevLastDay - x + 1}</div>`;
            }
            
            for (let i = 1; i <= lastDay; i++) {
                let fullDate = formatDate(new Date(date.getFullYear(), date.getMonth(), i));
                dates += `<div data-date='${fullDate}' style='${selectedDates.includes(fullDate) ? "background-color: green;" : ""}'>${i}</div>`;
            }
            
            for (let j = 1; j <= nextDays; j++) {
                let fullDate = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, j));
                dates += `<div class='next-date' data-date='${fullDate}' style='${selectedDates.includes(fullDate) ? "background-color: green;" : ""}'>${j}</div>`;
            }
            
            monthDays.innerHTML = dates;

            document.querySelectorAll('#calendar-body > div').forEach(day => {
                day.addEventListener('click', function() {
                    let selectedDate = this.getAttribute('data-date');
                    if (selectedDates.includes(selectedDate)) {
                        selectedDates = selectedDates.filter(date => date !== selectedDate);
                        this.style.backgroundColor = ''; // Deselect
                        this.style.color = 'black';
                    } else {
                        selectedDates.push(selectedDate);
                        this.style.backgroundColor = 'green'; // Select
                        this.style.color = 'white';
                    }
                });
            });
        }

        document.getElementById('month-prev').addEventListener('click', () => {
            date.setMonth(date.getMonth() - 1);
            renderCalendar();
        });

        document.getElementById('month-next').addEventListener('click', () => {
            date.setMonth(date.getMonth() + 1);
            renderCalendar();
        });
        
        renderCalendar();
    </script>
</body>
</html>
